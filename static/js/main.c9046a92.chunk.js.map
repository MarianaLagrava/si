{"version":3,"sources":["Services/user.services.js","Contexts/UserContext.js","Assets/img/usuario.png","Pages/Login/Login.jsx","Pages/CreatePost/CreatePost.jsx","Components/RouteLogin/RouteLogin.jsx","Pages/Redirect/Redirect.jsx","Components/Comment/Comment.jsx","Components/CardPost/CardPost.jsx","Assets/img/user_avatar.png","Components/Navbar/Navbar.jsx","Components/CardContainer/CardContainer.jsx","Pages/MyFavorites/MyFavorites.jsx","Pages/MyPosts/MyPosts.jsx","Pages/UpdatePost/UpdatePost.jsx","Pages/ErrorPage/ErrorPage.jsx","App.js","index.js"],"names":["BASE_URL","services","login","username","password","a","fetch","method","headers","body","JSON","stringify","response","ok","json","data","verifyToken","token","UserContext","React","createContext","TOKEN_KEY","UserProvider","props","useState","undefined","setToken","user","setUser","setTokenAll","localStorage","setItem","useEffect","dataxd","setRole","verifyCurrentToken","tokenLS","getItem","userServices","role","useCallback","loginAsync","status","tokenResponse","console","log","logout","value","useMemo","Provider","useUserContext","context","useContext","Error","Login","navigate","useNavigate","Username","setUsername","Password","setPassword","error","setError","onChange","e","save","target","onSubmitHandler","preventDefault","logged","Swal","fire","title","icon","confirmButtonColor","confirmButtonText","className","src","userlogin","alt","onSubmit","type","placeholder","CreatePost","useRef","description","image","titleValue","current","descriptionValue","imageValue","lengh","text","length","axios","post","onClick","class","autocomplete","ref","RouteLogin","children","replace","to","rolePages","Redirect","Comment","comment","split","CardPost","favs","Like","setLike","Hide","setHide","Fav","setFav","likes","likeNumber","setLikeNumber","comments","setComments","parse","forEach","l","f","_id","onClickLike","btn","document","querySelector","classList","add","remove","onclickHide","patch","com","onClickFav","info","loading","Date","createdAt","toLocaleDateString","toLocaleTimeString","id","href","imageUrl","imageWidth","imageHeight","map","like","join","c","Navbar","dropdown","enter","dropContent","leave","auth","addPost","divnav","nav","contains","viewBox","xmlns","d","onMouseEnter","onMouseLeave","useravatar","CardContainer","setPost","setFavs","postMore","setPostMore","PageLimit","setPageLimit","fetchPosts","pages","fetchFavorites","responseFav","dataFav","favorites","then","result","isConfirmed","p","MyFavorites","fav","onePost","getFavPosts","Promise","all","favPosts","arrayFavs","push","MyPosts","UpdatePost","postId","window","OriginalTitle","OriginalDesc","OriginalImage","put","ErrorPage","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"8MAAMA,EAAW,4CAEXC,EAAW,GAEjBA,EAASC,MAAT,uCAAiB,WAAOC,EAAUC,GAAjB,iBAAAC,EAAA,sEACUC,MAAM,GAAD,OAAIN,EAAJ,gBAA4B,CACpDO,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBR,SAAUA,EACVC,SAAUA,MARL,YACPQ,EADO,QAYDC,GAZC,gCAaUD,EAASE,OAbnB,cAaHC,EAbG,yBAcFA,GAdE,gCAgBN,IAhBM,2CAAjB,wDAoBAd,EAASe,YAAT,uCAAuB,WAAOC,GAAP,iBAAAZ,EAAA,sEACIC,MAAM,GAAD,OAAIN,EAAJ,gBAA4B,CACpDQ,QAAS,CACL,cAAgB,UAAhB,OAA4BS,MAHjB,YACbL,EADa,QAONC,GAPM,gCAQID,EAASE,OARb,cAQTC,EARS,yBASRA,GATQ,gCAWZ,IAXY,2CAAvB,sDAaed,Q,OClCTiB,EAAcC,IAAMC,gBACpBC,EAAY,QAELC,EAAe,SAACC,GACzB,MAA0BC,wBAASC,GAAnC,mBAAOR,EAAP,KAAcS,EAAd,KACA,EAAwBF,wBAASC,GAAjC,mBAAOE,EAAP,KAAaC,EAAb,KAEMC,EAAc,SAAAZ,GAChBa,aAAaC,QAAQV,EAAWJ,GAChCS,EAAST,IAUbe,qBAAU,YAPM,WACZ,QAAaP,IAATE,EAAoB,CACpB,IAAMM,EAASN,EACfG,aAAaC,QAAQ,OAAQrB,KAAKC,UAAUsB,KAKhDC,KACD,CAACP,IAEJK,qBAAU,WACN,IAAMG,EAAkB,uCAAG,kCAAA9B,EAAA,2DACjB+B,EAAUN,aAAaO,QAAQhB,IADd,gCAIciB,EAAatB,YAAYoB,GAJvC,gBAIXjC,EAJW,EAIXA,SAAUoC,EAJC,EAIDA,KAEfpC,GAAYoC,IACXX,EAAQ,CAAEzB,WAAUoC,SACpBV,EAAYO,IARG,2CAAH,qDAYxBD,MACD,CAAClB,IAEJ,IAAMf,EAAQsC,uBAAY,SAACrC,EAAUC,GACjC,IAAMqC,EAAU,uCAAG,gCAAApC,EAAA,6DACXqC,GAAS,EADE,kBAG4BJ,EAAapC,MAAMC,EAAUC,GAHzD,iBAGIuC,EAHJ,EAGH1B,SAGJY,EAAYc,GACZD,GAAS,GAPF,gDAWXE,QAAQC,IAAR,MACAD,QAAQC,IAAI,gCAZD,2CAeJH,GAfI,+DAAH,qDAmBhB,OAAOD,MACR,IAEGK,EAASN,uBAAY,WACvBZ,OAAQH,GACRI,OAAYJ,GACZK,aAAaC,QAAQ,YAAQN,KAC9B,IAEGsB,EAAQC,mBAAQ,iBAAO,CACzB/B,MAAOA,EACPU,KAAMA,EACNzB,MAAOA,EACP4C,OAAQA,KACR,CAAC7B,EAAOU,EAAMzB,EAAO4C,IAEzB,OAAO,cAAC5B,EAAY+B,SAAb,aAAsBF,MAAUA,GAAYxB,KAG1C2B,EAAiB,WAC1B,IAAMC,EAAUhC,IAAMiC,WAAWlC,GAEjC,IAAIiC,EACA,MAAM,IAAIE,MAAM,wBAEpB,OAAOF,G,OCvFI,MAA0B,oC,wBCuF1BG,EAhFD,WAEV,IAAMC,EAAWC,cACjB,EAAyBN,IAAjBhD,EAAR,EAAQA,MAAOe,EAAf,EAAeA,MACf,EAAgCO,mBAAS,IAAzC,mBAAOiC,EAAP,KAAiBC,EAAjB,KACA,EAAgClC,mBAAS,IAAzC,mBAAOmC,EAAP,KAAiBC,EAAjB,KACA,EAA0BpC,oBAAS,GAAnC,mBAAOqC,EAAP,KAAcC,EAAd,KAGMC,EAAW,SAACC,EAAGC,GACjBA,EAAKD,EAAEE,OAAOnB,QAGZoB,EAAe,uCAAG,WAAOH,GAAP,eAAA3D,EAAA,6DACpB2D,EAAEI,iBADkB,SAEClE,EAAMuD,EAAUE,GAFjB,OAEdU,EAFc,OAGpBP,GAAUO,GAEPR,GACDS,IAAKC,KAAK,CACRC,MAAO,qCACPC,KAAM,UACNC,mBAAoB,UACpBC,kBAAmB,WAGvBjB,EAAY,IACZE,EAAY,IAdQ,2CAAH,sDAyBrB,OARA5B,qBAAU,WACHf,GACCsC,EAAS,eAEd,CAACtC,EAAOsC,IAKT,qBAAKqB,UAAU,4DAAf,SACE,+BAEE,sBAAKA,UAAU,wDAAf,UACE,qBAAKA,UAAU,aAAaC,IAAKC,EAAWC,IAAI,cAEhD,uBAAMH,UAAU,gEAAgEI,SAAab,EAA7F,UAEI,oBAAIS,UAAU,wDAAd,qBAEA,uBAAOA,UAAU,qDACfJ,MAAM,WACNS,KAAK,OACLC,YAAY,sBACZnB,SAAU,SAACC,GAAD,OAAOD,EAASC,EAAGN,IAC7BX,MAAOU,IAGT,uBAAOmB,UAAU,qDACfJ,MAAM,WACNS,KAAK,WACLC,YAAY,2BACZnB,SAAU,SAACC,GAAD,OAAOD,EAASC,EAAGJ,IAC7Bb,MAAOY,IAGT,sBAAKiB,UAAU,sBAAf,UACE,cAAC,IAAD,CAAgBA,UAAU,uBAC1B,wBAAQA,UAAU,mHAAlB,oC,gDChEZ5E,EAAW,4CAiIFmF,EA9HI,WACjB,IAAM5B,EAAWC,cACXgB,EAAQY,iBAAO,MACfC,EAAcD,iBAAO,MACrBE,EAAQF,iBAAO,MAJE,4CAMvB,WAAwBpB,GAAxB,uBAAA3D,EAAA,6DAEE2D,EAAEI,iBACImB,EAAaf,EAAMgB,QAAQzC,MAC3B0C,EAAmBJ,EAAYG,QAAQzC,MACvC2C,EAAaJ,EAAME,QAAQzC,MAEd,KAAfwC,GAA0C,KAArBE,GAA2BA,EAAiBE,OAAwB,KAAfD,EAC5EpB,IAAKC,KAAK,CACRE,KAAM,QACND,MAAO,QACPoB,KAAM,sCAKDH,EAAiBI,OAAS,GACjCvB,IAAKC,KAAK,CACRE,KAAM,UACND,MAAO,QACPoB,KAAM,0DApBZ,kBAyB2BE,IAAMC,KAAN,UAAc/F,EAAd,gBAAsC,CAACwE,MAAOe,EAAYF,YAAaI,EAAkBH,MAAOI,GACvH,CAAClF,QAAS,CAAC,cAAgB,UAAhB,OAA2BsB,aAAaO,QAAQ,UAC3D,eAAgB,sBA3BpB,OAyBUzB,EAzBV,OA8BI0D,IAAKC,KAAK,CACRE,KAAM,UACND,MAAO,SACPoB,KAAM,6BAGgB,MAApBhF,EAAS8B,SACXZ,aAAaO,QAAQ,QAASzB,EAASG,KAAKE,OAC5CsC,EAAS,WAtCf,kDA2C4B,OADlB3C,EA1CV,KA0CUA,UACO8B,OACX4B,IAAKC,KAAK,CACRE,KAAM,QACND,MAAO,QACPoB,KAAM,uCAGmB,MAApBhF,EAAS8B,QAChB4B,IAAKC,KAAK,CACRE,KAAM,QACND,MAAO,QACPoB,KAAM,6BAtDd,QA2DEpB,EAAMgB,QAAQzC,MAAQ,GACtBsC,EAAYG,QAAQzC,MAAQ,GAC5BuC,EAAME,QAAQzC,MAAQ,GA7DxB,2DANuB,sBA6ErB,OACE,sBAAK6B,UAAU,cAAf,UACE,qBAAKA,UAAU,qDAEf,yBAASoB,QATU,SAAChC,GACtBA,EAAEI,iBACFb,EAAS,mBAO6BqB,UAAU,wJAA9C,UAAsM,cAAC,IAAD,CAAoBA,UAAU,YAApO,qBAEF,qBAAKA,UAAU,4DAAf,SAEM,+BAEE,qBAAKA,UAAU,0HAAf,SAEE,uBAAOI,SAzFE,4CAyFkBJ,UAAU,+DAArC,UACI,oBAAIA,UAAU,sDAAd,0BAEA,sBAAKqB,MAAM,OAAX,UACA,sBAAMA,MAAM,uCAAZ,SAAmD,cAAC,IAAD,MACnD,uBAAOC,aAAa,QAAStB,UAAU,sGAAuGK,KAAK,OAAOC,YAAY,YACtKiB,IAAK3B,OAIL,sBAAKyB,MAAM,OAAX,UACA,sBAAMA,MAAM,wCAAZ,SAAoD,cAAC,IAAD,MACpD,uBAAOC,aAAa,QAAQtB,UAAU,sGAAsGK,KAAK,OAAOC,YAAY,iBACpKiB,IAAKd,OAIL,sBAAKY,MAAM,OAAX,UACA,sBAAMA,MAAM,uCAAZ,SAAmD,cAAC,IAAD,MACnD,uBAAOC,aAAa,QAAQtB,UAAU,sGAAsGK,KAAK,OAAOC,YAAY,mBACpKiB,IAAKb,OAGL,wBAAQV,UAAU,sKAAlB,mCC/GLwB,EAXI,SAAC,GAAuB,IAAtB7D,EAAqB,EAArBA,KAAM8D,EAAe,EAAfA,SACzB,EAAwBnD,IAAhBjC,EAAR,EAAQA,MAAOU,EAAf,EAAeA,KAEf,OADAiB,QAAQC,IAAI5B,GACRA,EAIAU,GAAQA,EAAKY,OAASA,EAEnB8D,EAFgC,cAAC,IAAD,CAAUC,SAAO,EAACC,GAAG,gBAH1D3D,QAAQC,IAAI,OACL,cAAC,IAAD,CAAUyD,SAAO,EAACC,GAAG,aCJ1BC,EAAY,CACd,MAAS,aACT,KAAQ,aAaGC,EAVE,WAAO,IAAD,EACZ9E,EAAQuB,IAARvB,KAEP,OAAIA,EAIG,cAAC,IAAD,CAAU2E,SAAO,EAACC,GAAE,UAAEC,EAAU7E,EAAKY,aAAjB,QAA0B,MAHzC,wC,QCKDmE,EAhBC,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,QAAmB,EAAVZ,KACvB,OACI,sBAAKnB,UAAU,kBAAf,UACI,qBAAKA,UAAU,wFAAf,SACI,qBAAKA,UAAU,qEAAf,SACG,oBAAIA,UAAU,YAAd,SAA2B+B,EAAQhF,KAAKxB,SAASyG,MAAM,KAAK,SAGnE,sBAAKhC,UAAU,qCAAf,UACI,mBAAGA,UAAU,YAAb,SAA0B+B,EAAQhF,KAAKxB,WACvC,4BAAIwG,EAAQtB,qBCmSbwB,EArSE,SAAC,GAAkB,IAAjBd,EAAgB,EAAhBA,KAAMe,EAAU,EAAVA,KACfvD,EAAWC,cACjB,EAAwBhC,mBAAS,MAAjC,mBAAOuF,EAAP,KAAaC,EAAb,KACA,EAAwBxF,mBAAS,MAAjC,mBAAOyF,EAAP,KAAaC,EAAb,KACA,EAAsB1F,mBAAS,MAA/B,mBAAO2F,EAAP,KAAYC,EAAZ,KACA,EAAoC5F,mBAASuE,EAAKsB,MAAMxB,QAAxD,mBAAOyB,EAAP,KAAmBC,EAAnB,KACA,EAAgC/F,mBAASuE,EAAKyB,UAA9C,mBAAOA,EAAP,KAAiBC,EAAjB,KACM9F,EAAOjB,KAAKgH,MAAM5F,aAAaO,QAAQ,SAASlC,SAChDkF,EAAcD,iBAAO,MAG3BpD,qBAAU,WACN+D,EAAKsB,MAAMM,SAAQ,SAAAC,GACZA,EAAEzH,WAAawB,EACdqF,GAAQ,GAERA,GAAQ,MAKhBF,EAAKa,SAAQ,SAACE,GACPA,IAAM9B,EAAK+B,KACVV,GAAO,QAIhB,IAGH,IAUMW,EAAW,uCAAG,sBAAA1H,EAAA,+EAEWC,MAAM,uDAAwDyF,EAAK+B,IAAK,CAC3FvH,OAAQ,QACRC,QAAS,CACL,cAAiB,UAAYsB,aAAaO,QAAQ,YAL9C,cAST0E,GACCC,GAAQ,GACRO,EAAcD,EAAW,KAGzBN,GAAQ,GACRO,EAAcD,EAAW,IAfjB,gDAmBZ1E,QAAQiB,MAAR,MAnBY,yDAAH,qDAuBjB7B,qBAAU,WACN,IAAMgG,EAAMC,SAASC,cAAT,oBAAoCnC,EAAK+B,IAAzC,OAETf,EACCiB,EAAIG,UAAUC,IAAI,gBAElBJ,EAAIG,UAAUE,OAAO,kBAG1B,CAACtB,IAEJ,IAAMuB,EAAW,uCAAG,4BAAAjI,EAAA,+EAEWC,MAAM,yDAA0DyF,EAAK+B,IAAK,CACzFvH,OAAQ,QACRC,QAAS,CACL,cAAiB,UAAYsB,aAAaO,QAAQ,YALlD,cASF2F,EAAMC,SAASC,cAAT,sBAAsCnC,EAAK+B,IAA3C,OACTb,GACCC,GAAQ,GACRc,EAAIG,UAAUE,OAAO,kBAMrBnB,GAAQ,GACRc,EAAIG,UAAUC,IAAI,iBAnBd,gDAwBhBxF,QAAQiB,MAAR,MAxBgB,yDAAH,qDA1Ec,4CAoH/B,WAAwBG,GAAxB,iBAAA3D,EAAA,yDACI2D,EAAEI,oBAEIqB,EAAmBJ,EAAYG,QAAQzC,OAEzB8C,OAAO,GAL/B,gBAMQvB,IAAKC,KAAK,CACNE,KAAM,QACND,MAAO,QACPoB,KAAM,gDAGVP,EAAYG,QAAQzC,MAAM,GAZlC,iDAekB+C,IAAMyC,MAAN,iEAAsExC,EAAK+B,KAC7E,CAACzC,YAAaI,GACd,CAACjF,QAAS,CACN,cAAgB,UAAhB,OAA2BsB,aAAaO,QAAQ,UAChD,eAAgB,sBAnBpC,QAsBkBmG,EAAM,CACRnD,YAAaI,EACb9D,KAAK,CACDxB,SAAUwB,GAEdmG,IAAK/B,EAAK+B,KAGdL,EAAY,GAAD,mBAAKD,GAAL,CAAegB,KAC1BnD,EAAYG,QAAQzC,MAAM,GA/BtC,kDAmCYH,QAAQC,IAAR,MAnCZ,2DApH+B,sBAgK/B,IAAM4F,EAAU,uCAAG,8BAAApI,EAAA,+EAEYC,MAAM,sDAAwDyF,EAAK+B,IAAM,CAC5FvH,OAAQ,QACRC,QAAS,CACL,cAAiB,UAAWsB,aAAaO,QAAQ,YAL9C,cAELzB,EAFK,gBASQA,EAASE,OATjB,OASL4H,EATK,OAWX9F,QAAQC,IAAI6F,GAGRtB,GADDD,GAbQ,kDAoBXvE,QAAQiB,MAAR,MApBW,0DAAH,qDAyBhB7B,qBAAU,WACN,IAAMgG,EAAMC,SAASC,cAAT,qBAAqCnC,EAAK+B,IAA1C,OAETX,EACCa,EAAIG,UAAUC,IAAI,mBAElBJ,EAAIG,UAAUE,OAAO,qBAG1B,CAAClB,IAaJ,OACI,sBAAKvC,UAAU,qEAAf,UAEI,sBAAKA,UAAU,oFAAf,UACI,qBAAK+D,QAAQ,OAAO9D,IAAKkB,EAAKT,MAAOV,UAAU,uCAAuCG,IAAKgB,EAAKvB,QAChG,qBAAKI,UAAU,oJAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,4BAAImB,EAAKpE,KAAKxB,WACd,mBAAGyE,UAAU,aAAb,SAA2BmB,EAAKV,sBAK5C,sBAAKT,UAAU,gDAAf,UACI,sBAAKA,UAAU,aAAf,UACI,oBAAIA,UAAU,0BAAd,SAAyCmB,EAAKvB,QAC9C,yBAAQ,WAAUuB,EAAK+B,IAAK9B,QAASyC,EAAY7D,UAAU,4BAA3D,UAAuF,cAAC,IAAD,CAAYA,UAAU,0BAA7G,OAGIlE,KAAKgH,MAAM5F,aAAaO,QAAQ,SAASlC,WAAa4F,EAAKpE,KAAKxB,SAC5D,yBAAQyE,UAAU,iFAAiFoB,QA9BrG,SAAChC,GACnBA,EAAEI,iBACFb,EAAS,eACTzB,aAAaC,QAAQ,OAAQrB,KAAKC,UAAUoF,EAAK+B,MACjDhG,aAAaC,QAAQ,QAASrB,KAAKC,UAAUoF,EAAKvB,QAClD1C,aAAaC,QAAQ,cAAerB,KAAKC,UAAUoF,EAAKV,cACxDvD,aAAaC,QAAQ,QAASrB,KAAKC,UAAUoF,EAAKT,SAwB9B,cAA6H,cAAC,IAAD,OAG7H,yBAAQV,UAAU,SAAlB,cAA4B,cAAC,IAAD,OAIhClE,KAAKgH,MAAM5F,aAAaO,QAAQ,SAASlC,WAAa4F,EAAKpE,KAAKxB,SAC5D,yBAAQ,aAAY4F,EAAK+B,IAAKlD,UAAU,oFAAoFoB,QAASsC,EAArI,cAAmJ,cAAC,IAAD,CAAQ1D,UAAU,eAGrK,yBAAQA,UAAU,SAAlB,cAA4B,cAAC,IAAD,UAIxC,sBAAKA,UAAU,wCAAf,UACI,cAAC,IAAD,IACA,iCAAO,IAAIgE,KAAK7C,EAAK8C,WAAWC,qBAAhC,SACA,sBAAMlE,UAAU,gBAAhB,SAAiC,IAAIgE,KAAK7C,EAAK8C,WAAWE,0BAG9D,qBAAKnE,UAAU,mDAAf,SACI,oBAAGA,UAAU,aAAb,UACI,uBAAMA,UAAU,YAAhB,cAA8BmB,EAAKpE,KAAKxB,SAAxC,cACC4F,EAAKV,iBAId,sBAAKT,UAAU,2BAAf,UACI,yBAAQ,UAASmB,EAAK+B,IAAKlD,UAAU,eAAeoB,QAAS+B,EAA7D,UAA0E,cAAC,IAAD,CAAanD,UAAU,wBAAjG,OAEK,oBAAGoE,GAAG,SAASC,KAAK,IAAIrE,UAAU,sDAAsDoB,QApOtF,WACnB1B,IAAKC,KAAK,CACNC,MAAO,QACP0E,SAAS,0CACTC,WAAW,IACXC,YAAY,IACZxD,KAAK,uDAAD,OAAyDG,EAAKsB,MAAMgC,KAAI,SAAAC,GAAI,OAAIA,EAAKnJ,YAAUoJ,KAAK,YA8N3F,cAAmHjC,EAAnH,kBAIT,uBAAMtC,SAtQa,4CAsQnB,UACI,sDACA,uBACIJ,UAAU,wEACVM,YAAY,4BAA4BD,KAAK,OAC7CkB,IAAKd,OAIb,6CACA,qBAAK2D,GAAG,WAAWpE,UAAU,2BAA7B,SACK4C,EAAS3B,OAAS,EACf2B,EAAS6B,KAAI,SAAAG,GACT,OACI,cAAC,EAAD,CACI7C,QAAS6C,GACJA,EAAE1B,QAKnB,mBAAGlD,UAAU,eAAb,kECrST,+/M,QC4HA6E,EAnHA,WACX,IAAMlG,EAAWC,cACXjB,EAAO7B,KAAKgH,MAAM5F,aAAaO,QAAQ,SAASE,KAmBhDmH,EAAW,CACbC,MAAO,WACH,IAAMC,EAAc3B,SAASC,cAAc,SAC3C0B,EAAYzB,UAAUC,IAAI,OAAQ,YAClCwB,EAAYzB,UAAUE,OAAO,WAEjCwB,MAAO,WACH,IAAMD,EAAc3B,SAASC,cAAc,SAC3C0B,EAAYzB,UAAUC,IAAI,UAC1BwB,EAAYzB,UAAUE,OAAO,OAAQ,cAIvCyB,EAAO5G,IAQP6G,EAAU,SAAC/F,GACbA,EAAEI,iBACFb,EAAS,gBAmBb,OACI,qBAAKqB,UAAU,mDAAf,SACI,sBAAKoE,GAAG,SAASpE,UAAU,gFAA3B,UACI,oBAAIA,UAAU,gDAAd,wBAEA,qBAAKA,UAAU,YAAf,SACI,wBAAQoB,QAjEF,WAClB,IAAMgE,EAAS/B,SAASC,cAAc,WAChC+B,EAAMhC,SAASC,cAAc,OAE/B+B,EAAI9B,UAAU+B,SAAS,WACvBD,EAAI9B,UAAUC,IAAI,OAAQ,WAAY,QAAS,OAAQ,UACvD6B,EAAI9B,UAAUE,OAAO,UACrB2B,EAAO7B,UAAUE,OAAO,QAAS,QACjC2B,EAAO7B,UAAUC,IAAI,WAAY,QAAS,UAE1C6B,EAAI9B,UAAUE,OAAO,OAAQ,WAAY,QAAS,OAAQ,UAC1D4B,EAAI9B,UAAUC,IAAI,UAClB4B,EAAO7B,UAAUC,IAAI,QAAS,QAC9B4B,EAAO7B,UAAUE,OAAO,WAAY,QAAS,UAoDNzD,UAAU,iFAAzC,SACI,sBAAKA,UAAU,uBAAuBuF,QAAQ,YAAYC,MAAM,6BAAhE,UAA6F,yCAAmB,sBAAMC,EAAE,uDAIhI,sBAAKzF,UAAU,2EAAf,UAEiB,SAATrC,EACI,yBAAQyD,QAAS+D,EAASnF,UAAU,0EAApC,cAA+G,cAAC,IAAD,IAA/G,oBAEA,yBAAQoB,QAAS+D,EAASnF,UAAU,oGAApC,cAAyI,cAAC,IAAD,IAAzI,oBAIR,yBAAQA,UAAU,oGAAoGoB,QA/BjH,SAAChC,GAClBA,EAAEI,iBACFb,EAAS,mBA6BG,cAA8I,cAAC,IAAD,IAA9I,oBAGa,UAAThB,EACI,yBAAQqC,UAAU,oGAAoGoB,QA9BvH,SAAChC,GACpBA,EAAEI,iBACFb,EAAS,aA4BW,cAAgJ,cAAC,IAAD,IAAhJ,gBAEA,yBAAQqB,UAAU,SAAlB,cAA4B,cAAC,IAAD,IAA5B,gBAIR,yBAAQA,UAAU,oGAAoGoB,QA9CnH,SAAChC,GAChBA,EAAEI,iBACFb,EAAS,iBA4CG,cAA4I,cAAC,IAAD,IAA5I,gBACA,yBAAQqB,UAAU,oGAAoG0F,aAAcZ,EAASC,MAAOY,aAAcb,EAASG,MAA3K,cAAmL,qBAAKhF,IAAK2F,EAAY5F,UAAU,uBAAuBG,IAAI,gBAA9O,YAAsQ,cAAC,IAAD,UAG1Q,sBAAKiE,GAAG,OAAOpE,UAAU,qHAAqH0F,aAAcZ,EAASC,MAAOY,aAAcb,EAASG,MAAnM,UACI,sBAAKjF,UAAU,kCAAf,UACI,qBAAKC,IAAK2F,EAAY5F,UAAU,qBAAqBG,IAAI,aACzD,sBAAKH,UAAU,QAAf,UAEI,oBAAIA,UAAU,0BAAd,SAAyClE,KAAKgH,MAAM5F,aAAaO,QAAQ,SAASlC,WAClF,oBAAIyE,UAAU,gBAAd,SAA+BlE,KAAKgH,MAAM5F,aAAaO,QAAQ,SAASE,aAIhF,wBAAQqC,UAAU,4FAA4FoB,QAxEvG,SAAChC,GACpBA,EAAEI,iBAEF0F,EAAKhH,SACLS,EAAS,WAoEG,6BC6BLkH,EAtIO,WACpB,IAAMxJ,EAAQa,aAAaO,QAAQ,SACnC,EAAwBb,mBAAS,IAAjC,mBAAOuE,EAAP,KAAa2E,EAAb,KACA,EAAwBlJ,mBAAS,IAAjC,mBAAOsF,EAAP,KAAa6D,EAAb,KACA,EAAiCnJ,mBAAS,GAA1C,mBAAOoJ,EAAP,KAAkBC,EAAlB,KACA,EAAkCrJ,mBAAS,GAA3C,mBAAOsJ,EAAP,KAAkBC,EAAlB,KACiBvH,cAuFjB,OAhFAxB,qBAAU,WACR,IAAMgJ,EAAU,uCAAG,8BAAA3K,EAAA,+EAEQC,MAAM,oEAAD,OAAqEsK,GAAY,CAC3G,OAAU,MACV,QAAU,CACR,cAAgB,UAAhB,OAA2B3J,MALhB,YAETL,EAFS,QASHC,GATG,iCAUMD,EAASE,OAVf,OAUPC,EAVO,OAWbgK,EAAahK,EAAKkK,OAClBP,EAAQ3J,EAAKA,MAZA,0DAiBf6B,QAAQiB,MAAR,MAjBe,0DAAH,qDAsBVqH,EAAc,uCAAG,8BAAA7K,EAAA,+EAESC,MAAM,qDAAsD,CAClFC,OAAQ,MACRC,QAAS,CACL,cAAiB,UAAYsB,aAAaO,QAAQ,YALzC,YAEX8I,EAFW,QASFtK,GATE,gCAUSsK,EAAYrK,OAVrB,OAUPsK,EAVO,OAWbT,EAAQS,EAAQC,WAXH,yDAejBzI,QAAQiB,MAAR,MAfiB,0DAAH,qDAoBpBmH,IACAE,MAGC,CAACN,IAGDA,GAAYE,GACbxG,IAAKC,KAAK,CACRC,MAAO,mCACPC,KAAM,UACNC,mBAAoB,UACpBC,kBAAmB,WAClB2G,MAAK,SAACC,GACHA,EAAOC,aACTX,EAAYD,EAAW,MAI7BhI,QAAQC,IAAI+H,EAAUE,GAGnBF,EAAW,GACZtG,IAAKC,KAAK,CACRC,MAAO,sCACPC,KAAM,UACNC,mBAAoB,UACpBC,kBAAmB,WAClB2G,MAAK,SAACC,GACHA,EAAOC,aACTX,EAAYD,EAAW,MAQ3B,sBAAKhG,UAAU,2BAAf,UAEE,cAAC,EAAD,IAEA,qBAAKA,UAAU,sBAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,mEAAf,UACG,yBAAQoB,QAAS,WAAK6E,EAAYD,EAAW,IAAKhG,UAAU,oLAA5D,UAAgP,cAAC,IAAD,CAAoBA,UAAU,YAA9Q,IAA0R,qDAA1R,OACA,yBAAQoB,QAAS,WAAK6E,EAAYD,EAAW,IAAKhG,UAAU,oLAA5D,cAAiP,sDAAjP,IAA6Q,cAAC,IAAD,CAAqBA,UAAU,YAA5S,UAIDmB,EAAKF,OAAS,EACZE,EAAKsD,KAAI,SAACoC,GACR,OACE,cAAC,EAAD,CACE1F,KAAM0F,EAEN3E,KAAMA,GADD2E,EAAE3D,QAOb,KAGJ,sBAAKlD,UAAU,oEAAf,UACG,yBAAQoB,QAAS,WAAK6E,EAAYD,EAAW,IAAKhG,UAAU,oLAA5D,UAAgP,cAAC,IAAD,CAAoBA,UAAU,YAA9Q,IAA0R,qDAA1R,OACA,yBAAQoB,QAAS,WAAK6E,EAAYD,EAAW,IAAKhG,UAAU,oLAA5D,cAAiP,sDAAjP,IAA6Q,cAAC,IAAD,CAAqBA,UAAU,YAA5S,eAMP,qBAAKA,UAAU,yDCPN8G,EA/HK,WAChB,IAAMzK,EAAQa,aAAaO,QAAQ,SACnC,EAAwBb,mBAAS,IAAjC,mBAAOuE,EAAP,KAAa2E,EAAb,KACA,EAAsBlJ,mBAAS,IAA/B,mBAAOmK,EAAP,KAAYvE,EAAZ,KACA,EAAiC5F,mBAAS,GAA1C,6BA4EA,OA5DAQ,qBAAU,WACN,IAAMkJ,EAAc,uCAAG,8BAAA7K,EAAA,+EAEWC,MAAM,qDAAsD,CAClFC,OAAQ,MACRC,QAAS,CACL,cAAiB,UAAYsB,aAAaO,QAAQ,YAL3C,YAET8I,EAFS,QASAtK,GATA,gCAUWsK,EAAYrK,OAVvB,OAULsK,EAVK,OAWXhE,EAAOgE,EAAQC,WAXJ,yDAefzI,QAAQiB,MAAR,MAfe,0DAAH,qDAoBpBqH,MAED,IAGHlJ,qBAAU,WACN,IAAMgJ,EAAU,uCAAG,WAAOhC,GAAP,iBAAA3I,EAAA,+EAEYC,MAAM,sDAAD,OAAuD0I,GAAM,CACrFzI,OAAQ,MACRC,QAAS,CACL,cAAgB,UAAhB,OAA2BS,MALxB,YAELL,EAFK,QASEC,GATF,gCAUeD,EAASE,OAVxB,cAUD8K,EAVC,yBAWAA,GAXA,yDAeXhJ,QAAQiB,MAAR,MAfW,0DAAH,sDAoBV0H,EAASI,EAAItC,KAAI,SAAAxB,GACnB,OAAOmD,EAAWnD,MAGhBgE,EAAW,uCAAG,4BAAAxL,EAAA,sEACOyL,QAAQC,IAAIR,GADnB,OACVS,EADU,OAEhBtB,EAAQsB,GAFQ,2CAAH,qDAKjBH,MACD,CAACF,IAIA,sBAAK/G,UAAU,2BAAf,UAEI,cAAC,EAAD,IAEA,qBAAKA,UAAU,sBAAf,SACI,qBAAKA,UAAU,gBAAf,SAOQmB,EAAKsD,KAAI,SAACoC,GACN,IAAIQ,EAAY,GAGhB,OAFAA,EAAUC,KAAKT,EAAE3D,KAEd2D,EAEK,cAAC,EAAD,CACI1F,KAAM0F,EAEN3E,KAAMmF,GADDR,EAAE3D,KAMX,qDAcxB,qBAAKlD,UAAU,yDCQZuH,EA9HC,WAEZ,IAAMlL,EAAQa,aAAaO,QAAQ,SACnC,EAAwBb,mBAAS,IAAjC,mBAAOuE,EAAP,KAAa2E,EAAb,KACA,EAAwBlJ,mBAAS,IAAjC,mBAAOsF,EAAP,KAAa6D,EAAb,KACA,EAAiCnJ,mBAAS,GAA1C,mBAAOoJ,EAAP,KAAkBC,EAAlB,KACA,EAAkCrJ,mBAAS,GAA3C,mBAAOsJ,EAAP,KAAkBC,EAAlB,KAgFA,OA7EA/I,qBAAU,WACN,IAAMgJ,EAAU,uCAAG,8BAAA3K,EAAA,+EAEQC,MAAM,sEAAD,OAAuEsK,GAAY,CAC7G,OAAU,MACV,QAAU,CACR,cAAgB,UAAhB,OAA2B3J,MALhB,YAETL,EAFS,QAUHC,GAVG,iCAWMD,EAASE,OAXf,OAWPC,EAXO,OAYb2J,EAAQ3J,EAAKA,MACbgK,EAAahK,EAAKkK,OAbL,0DAkBfrI,QAAQiB,MAAR,MAlBe,0DAAH,qDAuBVqH,EAAc,uCAAG,8BAAA7K,EAAA,+EAESC,MAAM,qDAAsD,CAClFC,OAAQ,MACRC,QAAS,CACL,cAAiB,UAAYsB,aAAaO,QAAQ,YALzC,YAEX8I,EAFW,QASFtK,GATE,gCAUSsK,EAAYrK,OAVrB,OAUPsK,EAVO,OAWbT,EAAQS,EAAQC,WAXH,yDAejBzI,QAAQiB,MAAR,MAfiB,0DAAH,qDAoBpBmH,IACAE,MAEC,CAACN,IAEDA,GAAYE,GACbxG,IAAKC,KAAK,CACRC,MAAO,mCACPC,KAAM,UACNC,mBAAoB,UACpBC,kBAAmB,WAClB2G,MAAK,SAACC,GACHA,EAAOC,aACTX,EAAYD,EAAW,MAI7BhI,QAAQC,IAAI+H,EAAUE,GAEnBF,EAAW,GACZtG,IAAKC,KAAK,CACRC,MAAO,sCACPC,KAAM,UACNC,mBAAoB,UACpBC,kBAAmB,WAClB2G,MAAK,SAACC,GACHA,EAAOC,aACTX,EAAYD,EAAW,MAQ/B,sBAAKhG,UAAU,2BAAf,UACE,cAAC,EAAD,IAEA,qBAAKA,UAAU,sBAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,mEAAf,UACG,yBAAQoB,QAAS,WAAK6E,EAAYD,EAAW,IAAKhG,UAAU,oLAA5D,UAAgP,cAAC,IAAD,CAAoBA,UAAU,YAA9Q,IAA0R,qDAA1R,OACA,yBAAQoB,QAAS,WAAK6E,EAAYD,EAAW,IAAKhG,UAAU,oLAA5D,cAAiP,sDAAjP,IAA6Q,cAAC,IAAD,CAAqBA,UAAU,YAA5S,UAIDmB,EAAKF,OAAS,EACZE,EAAKsD,KAAI,SAACoC,GACR,OACE,cAAC,EAAD,CACE1F,KAAM0F,EAEN3E,KAAMA,GADD2E,EAAE3D,QAMb,KAGJ,sBAAKlD,UAAU,oEAAf,UACG,yBAAQoB,QAAS,WAAK6E,EAAYD,EAAW,IAAKhG,UAAU,oLAA5D,UAAgP,cAAC,IAAD,CAAoBA,UAAU,YAA9Q,IAA0R,qDAA1R,OACA,yBAAQoB,QAAS,WAAK6E,EAAYD,EAAW,IAAKhG,UAAU,oLAA5D,cAAiP,sDAAjP,IAA6Q,cAAC,IAAD,CAAqBA,UAAU,YAA5S,eAMP,qBAAKA,UAAU,yDCxHf5E,EAAW,4CA8IAoM,EA3IE,WACjB,IAAM7I,EAAWC,cACX6I,EAAS3L,KAAKgH,MAAM4E,OAAOxK,aAAaO,QAAQ,SAG9CmC,EAAQY,iBAAO,MACfC,EAAcD,iBAAO,MACrBE,EAAQF,iBAAO,MAPA,4CAWrB,WAAwBpB,GAAxB,6BAAA3D,EAAA,6DAEE2D,EAAEI,iBACImB,EAAaf,EAAMgB,QAAQzC,MAC3B0C,EAAmBJ,EAAYG,QAAQzC,MACvC2C,EAAaJ,EAAME,QAAQzC,MAE3BwJ,EAAgB7L,KAAKgH,MAAM4E,OAAOxK,aAAaO,QAAQ,UACvDmK,EAAe9L,KAAKgH,MAAM4E,OAAOxK,aAAaO,QAAQ,gBACtDoK,EAAgB/L,KAAKgH,MAAM4E,OAAOxK,aAAaO,QAAQ,UAGzC,KAAfkD,IAEDf,EAAMgB,QAAQzC,MAAQwJ,GAEA,KAArB9G,IAEDJ,EAAYG,QAAQzC,MAAQyJ,GAGb,KAAd9G,IAEDJ,EAAME,QAAQzC,MAAQ0J,GAvB5B,oBAkC4B3G,IAAM4G,IAAN,UAAa1M,EAAb,wBAAqCqM,GAAU,CAAC7H,MAAOe,EAAYF,YAAaI,EAAkBH,MAAOI,GAChI,CAAClF,QAAS,CAAC,cAAgB,UAAhB,OAA2BsB,aAAaO,QAAQ,UAC3D,eAAgB,sBApCrB,QAkCWzB,EAlCX,OA0CI0D,IAAKC,KAAK,CACRE,KAAM,UACND,MAAO,cACPoB,KAAM,+BAGgB,MAApBhF,EAAS8B,SACXZ,aAAaO,QAAQ,QAASzB,EAASG,KAAKE,OAC5CsC,EAAS,aAlDf,mDAuD4B,OADlB3C,EAtDV,KAsDUA,UACO8B,OACX4B,IAAKC,KAAK,CACRE,KAAM,QACND,MAAO,QACPoB,KAAM,uCAGmB,MAApBhF,EAAS8B,QAChB4B,IAAKC,KAAK,CACRE,KAAM,QACND,MAAO,QACPoB,KAAM,6BAlEd,4DAXqB,sBA0FnB,OACE,sBAAKhB,UAAU,cAAf,UACE,qBAAKA,UAAU,qDAEf,yBAASoB,QATU,SAAChC,GACtBA,EAAEI,iBACFb,EAAS,mBAO6BqB,UAAU,wJAA9C,UAAsM,cAAC,IAAD,CAAoBA,UAAU,YAApO,qBAEF,qBAAKA,UAAU,4DAAf,SAEM,+BAEE,qBAAKA,UAAU,0HAAf,SAEE,uBAAOI,SAtGA,4CAsGoBJ,UAAU,+DAArC,UACI,oBAAIA,UAAU,sDAAd,+BAEA,sBAAKqB,MAAM,OAAX,UACA,sBAAMA,MAAM,uCAAZ,SAAmD,cAAC,IAAD,MACnD,uBAAOC,aAAa,QAAStB,UAAU,sGAAuGK,KAAK,OAAOC,YAAY,YACtKiB,IAAK3B,OAIL,sBAAKyB,MAAM,OAAX,UACA,sBAAMA,MAAM,wCAAZ,SAAoD,cAAC,IAAD,MACpD,uBAAOC,aAAa,QAAQtB,UAAU,sGAAsGK,KAAK,OAAOC,YAAY,iBACpKiB,IAAKd,OAIL,sBAAKY,MAAM,OAAX,UACA,sBAAMA,MAAM,uCAAZ,SAAmD,cAAC,IAAD,MACnD,uBAAOC,aAAa,QAAQtB,UAAU,sGAAsGK,KAAK,OAAOC,YAAY,mBACpKiB,IAAKb,OAGL,wBAAQV,UAAU,sKAAlB,qCCpIP+H,EAJG,WACd,OAAS,wCCsDEC,MA3Cf,WACE,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAIC,QAAS,cAAC,IAAD,CAAUxG,SAAO,EAACC,GAAI,aAC/C,cAAC,IAAD,CAAOsG,KAAK,SAASC,QAAS,cAAC,EAAD,MAC9B,cAAC,IAAD,CAAOD,KAAK,YAAYC,QAAS,cAAC,EAAD,MACjC,cAAC,IAAD,CAAOD,KAAK,iBAAiBC,QAAS,cAAC,EAAD,MACtC,cAAC,IAAD,CAAOD,KAAK,cAAcC,QAAS,cAAC,EAAD,MACnC,cAAC,IAAD,CAAOD,KAAK,eAAeC,QAAS,cAAC,EAAD,MACpC,cAAC,IAAD,CAAOD,KAAK,WAAWC,QAAS,cAAC,EAAD,MAChC,cAAC,IAAD,CAAOD,KAAK,cAAcC,QAAS,cAAC,EAAD,MACnC,cAAC,IAAD,CAAOD,KAAK,aAAaC,QAAS,cAAC,EAAD,MAIpC,cAAC,IAAD,CACID,KAAK,aACLC,QACE,cAAC,EAAD,CAAYvK,KAAK,QAAjB,SACE,cAAC,EAAD,QAIN,cAAC,IAAD,CACEsK,KAAK,YACLC,QACE,cAAC,EAAD,CAAYvK,KAAK,OAAjB,SACE,cAAC,EAAD,QAKJ,cAAC,IAAD,CACDsK,KAAK,KACJC,QACA,cAAC,EAAD,YC3CVC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,EAAD,QAGJhF,SAASiF,eAAe,W","file":"static/js/main.c9046a92.chunk.js","sourcesContent":["const BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1\";\r\n\r\nconst services = {};\r\n\r\nservices.login = async (username, password) => {\r\n    const response = await fetch(`${BASE_URL}/auth/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({\r\n            username: username,\r\n            password: password\r\n        })\r\n    });\r\n\r\n    if(response.ok) {\r\n        const data = await response.json();\r\n        return data;\r\n    }\r\n    return {};\r\n}\r\n\r\n\r\nservices.verifyToken = async (token) => {\r\n    const response = await fetch(`${BASE_URL}/auth/whoami`, {\r\n        headers: {\r\n            \"Authorization\": `Bearer ${ token }`\r\n        }\r\n    });\r\n\r\n    if (response.ok) {\r\n        const data = await response.json();\r\n        return data;\r\n    }\r\n    return {};\r\n}\r\nexport default services;","import React, { useCallback, useEffect, useState, useMemo } from \"react\"\r\nimport userServices from \"../Services/user.services\"\r\n\r\nconst UserContext = React.createContext();\r\nconst TOKEN_KEY = \"token\";\r\n\r\nexport const UserProvider = (props) => {\r\n    const [token, setToken] = useState(undefined);\r\n    const [user, setUser] = useState(undefined);\r\n\r\n    const setTokenAll = token => {\r\n        localStorage.setItem(TOKEN_KEY, token);\r\n        setToken(token);\r\n    }\r\n\r\n    const setRole = ()=>{\r\n        if (user !== undefined) {\r\n            const dataxd = user;\r\n            localStorage.setItem(\"user\", JSON.stringify(dataxd));\r\n        }\r\n    }\r\n    \r\n    useEffect(() => {\r\n        setRole();\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        const verifyCurrentToken = async () => {\r\n            const tokenLS = localStorage.getItem(TOKEN_KEY);\r\n\r\n            if(tokenLS) {\r\n                const { username, role } = await userServices.verifyToken(tokenLS);\r\n\r\n                if(username && role) {\r\n                    setUser({ username, role });\r\n                    setTokenAll(tokenLS);\r\n                }\r\n            }\r\n        }\r\n        verifyCurrentToken();\r\n    }, [token])\r\n\r\n    const login = useCallback((username, password) => {\r\n        const loginAsync = async () => {\r\n            let status = false;\r\n            try {\r\n                const { token: tokenResponse } = await userServices.login(username, password);\r\n\r\n                if(tokenResponse) {\r\n                    setTokenAll(tokenResponse);\r\n                    status = true;\r\n                }\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n                console.log(\"No se pudo iniciar sesión\");\r\n            }\r\n            finally {\r\n                return status;\r\n            }\r\n        }\r\n\r\n        return loginAsync();\r\n    }, [])\r\n\r\n    const logout = useCallback(() => {\r\n        setUser(undefined);\r\n        setTokenAll(undefined);\r\n        localStorage.setItem(\"user\", undefined);\r\n    }, [])\r\n\r\n    const value = useMemo(() => ({\r\n        token: token,\r\n        user: user,\r\n        login: login,\r\n        logout: logout\r\n    }), [token, user, login, logout]);\r\n\r\n    return <UserContext.Provider value = { value } {...props} />\r\n}\r\n\r\nexport const useUserContext = () => {\r\n    const context = React.useContext(UserContext);\r\n\r\n    if(!context) {\r\n        throw new Error(\"Ha ocurrido un error\");\r\n    }\r\n    return context;\r\n}","export default __webpack_public_path__ + \"static/media/usuario.647979d8.png\";","import { useState, useEffect } from \"react\";\r\nimport { useUserContext } from \"../../Contexts/UserContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport userlogin from \"../../Assets/img/usuario.png\";\r\nimport { HiOutlineLogin } from \"react-icons/hi\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst Login = () => {\r\n    // Recibimos la función login y el token guardadas en UserContext\r\n    const navigate = useNavigate();\r\n    const { login, token } = useUserContext();\r\n    const [Username, setUsername] = useState(\"\");\r\n    const [Password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(false);\r\n\r\n    // Se va guardando cada caracter que ingresamos al input\r\n    const onChange = (e, save) => {\r\n        save(e.target.value);\r\n    }\r\n\r\n    const onSubmitHandler = async (e) => {\r\n        e.preventDefault();\r\n        const logged = await login(Username, Password);\r\n        setError(!logged);\r\n        \r\n        if(error){\r\n          Swal.fire({\r\n            title: 'Usuario o contraseña no validos',\r\n            icon: 'warning',\r\n            confirmButtonColor: '#3085d6',\r\n            confirmButtonText: 'Volver'\r\n          })\r\n        }\r\n        setUsername(\"\");\r\n        setPassword(\"\");\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        if(token){\r\n            navigate(\"/redirect\");\r\n        }\r\n    }, [token, navigate]);\r\n\r\n    \r\n\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-dark-700\">\r\n        <main>\r\n          \r\n          <div className=\"flex lg:flex-row gap-10 p-10 m-6  rounded-xl flex-col\">\r\n            <img className=\"pl-3 w-2/4\" src={userlogin} alt=\"login-img\"/>\r\n\r\n            <form className=\"flex flex-col gap-10 p-10 m-2 bg-dark-400 w-11/12 rounded-3xl\" onSubmit = { onSubmitHandler }>\r\n                \r\n                <h1 className=\"font-bold self-center font-content text-5xl text-aqua\">Log in </h1>\r\n                \r\n                <input className=\"p-2 rounded hover:border-skyD focus:outline-skyBO \"\r\n                  title='Username'\r\n                  type='text'\r\n                  placeholder='Ingrese su username'\r\n                  onChange={(e) => onChange(e, setUsername)}\r\n                  value={Username}\r\n                />\r\n                  \r\n                <input className=\"p-2 rounded hover:border-skyD focus:outline-skyBO \"\r\n                  title='Password'\r\n                  type=\"password\"\r\n                  placeholder=\"Ingrese su contraseña\"\r\n                  onChange={(e) => onChange(e, setPassword)}\r\n                  value={Password}\r\n                />\r\n\r\n                <div className=\"flex flex-row gap-5\">\r\n                  <HiOutlineLogin className=\"text-5xl text-skyL\"/>\r\n                  <button className=\"w-3/4 bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-blue-700 hover:border-blue-500 rounded\">\r\n                  Ingresar\r\n                  </button>\r\n                </div>\r\n                \r\n            </form>\r\n\r\n          </div>\r\n        </main>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Login","import { useNavigate } from \"react-router-dom\";\r\nimport React,{ useRef } from \"react\";\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport {HiOutlinePencilAlt} from 'react-icons/hi'\r\nimport {BiRename} from 'react-icons/bi';\r\nimport {BsFillImageFill} from 'react-icons/bs';\r\nimport {AiOutlineArrowLeft} from 'react-icons/ai'\r\n\r\n\r\nconst BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1\";\r\n\r\n\r\nconst CreatePost = () => {\r\n  const navigate = useNavigate();\r\n  const title = useRef(null);\r\n  const description = useRef(null);\r\n  const image = useRef(null);\r\n  \r\n  async function onSubmit(e)\r\n  {\r\n    e.preventDefault();\r\n    const titleValue = title.current.value\r\n    const descriptionValue = description.current.value\r\n    const imageValue = image.current.value\r\n\r\n    if (titleValue === \"\" || descriptionValue === \"\" || descriptionValue.lengh || imageValue === \"\"){\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'ERROR',\r\n        text: 'Por favor llenar todos los campos',\r\n      })\r\n    }\r\n    \r\n    //validacion para la descripcion del post sea mayor a 8 caracteres\r\n    else if (descriptionValue.length < 8) {\r\n      Swal.fire({\r\n        icon: 'warning',\r\n        title: 'ERROR',\r\n        text: 'La descripcion del post debe ser mayor a 8 caracteres',\r\n      })\r\n    }\r\n    \r\n    try{\r\n      const response = await axios.post(`${BASE_URL}/post/create`, {title: titleValue, description: descriptionValue, image: imageValue},\r\n      {headers: {'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n      'Content-Type': 'application/json'}}\r\n      );  \r\n\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Creado',\r\n        text: 'Post publicado con exito',\r\n      })\r\n     \r\n      if (response.status === 200) {\r\n        localStorage.getItem('token', response.data.token);\r\n        navigate('/admin');\r\n    }\r\n    }\r\n    catch(error){\r\n      const{response} = error;\r\n      if (response.status === 401) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'ERROR',\r\n          text: 'Debes ser admin para crear un post',\r\n        })\r\n      }\r\n      else if (response.status === 404) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'ERROR',\r\n          text: 'No se pudo crear el post',\r\n        })\r\n      }\r\n    }\r\n\r\n    title.current.value = \"\";\r\n    description.current.value = \"\";\r\n    image.current.value = \"\";\r\n  }\r\n\r\n   \r\n\r\n    const onClickHandler = (e) =>{\r\n      e.preventDefault();\r\n      navigate(\"/CardContainer\");\r\n  }\r\n      \r\n    return (\r\n      <div className=\"bg-dark-400\">\r\n        <div className=\"relative pt-1 bg-gradient-to-r from-aqua to-skyD\"></div>\r\n\r\n        <button  onClick= {onClickHandler}  className=\"px-4 py-2 mx-3 mt-6 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"><AiOutlineArrowLeft className=\"inline \"/> ver los posts </button>\r\n        \r\n      <div className=\"flex flex-col items-center min-h-screen pt-20 bg-dark-400\">\r\n        \r\n            <main>\r\n\r\n              <div className=\"w-full max-w-3xl p-2 rounded-md shadow-md border-1 md:p-2 bg-gradient-to-r from-aqua to-skyD text-bold hover:text-black\">\r\n                \r\n                <form  onSubmit={onSubmit} className=\"flex flex-col items-center justify-center gap-4 p-10 bg-skyL\">\r\n                    <h2 className=\"mb-4 text-4xl font-black text-gray-800 font-heading\">Crea un POST</h2>\r\n                    \r\n                    <div class=\"flex\">\r\n                    <span class=\"text-lg  rounded-l px-4 py-2 bg-gray\"><BiRename /></span>\r\n                    <input autocomplete=\"false\"  className=\"w-full px-4 py-2 rounded-r focus:outline-none focus:ring-2 focus:ring-aqua focus:border-transparent\"  type=\"text\" placeholder=\"Título\"\r\n                    ref={title}/>\r\n                   \r\n                    </div>\r\n                                        \r\n                    <div class=\"flex\">\r\n                    <span class=\"text-lg   rounded-l px-4 py-2 bg-gray\"><HiOutlinePencilAlt /></span>\r\n                    <input autocomplete=\"false\" className=\"w-full px-4 py-2 rounded-r focus:outline-none focus:ring-2 focus:ring-aqua focus:border-transparent\" type=\"text\" placeholder=\"Descripción\"\r\n                    ref={description}/>\r\n                                      \r\n                    </div>\r\n\r\n                    <div class=\"flex\">\r\n                    <span class=\"text-lg  rounded-l px-4 py-2 bg-gray\"><BsFillImageFill /></span>\r\n                    <input autocomplete=\"false\" className=\"w-full px-4 py-2 rounded-r focus:outline-none focus:ring-2 focus:ring-aqua focus:border-transparent\" type=\"text\" placeholder=\"Url de la imagen\"\r\n                    ref={image}/>\r\n                    </div>\r\n                    \r\n                    <button className=\"w-full px-4 py-2 mt-6 text-xl text-white uppercase transition duration-300 ease-in-out border rounded bg-gradient-to-r from-aqua to-skyD text-bold hover:text-black\">\r\n                        Publicar \r\n                    </button>\r\n                </form>\r\n              </div>\r\n            </main>\r\n\r\n    </div>\r\n      </div>  \r\n);\r\n}\r\n\r\n\r\n\r\nexport default CreatePost;","import { useUserContext } from './../../Contexts/UserContext';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst RouteLogin = ({role, children }) => {\r\n  const { token, user } = useUserContext();\r\n  console.log(token);\r\n  if(!token) {\r\n    console.log(\"BUM\");\r\n    return <Navigate replace to=\"/login\"/>;\r\n  }\r\n  if(!user || user.role !== role) return <Navigate replace to=\"/ErrorPage\"/>;\r\n\r\n  return children;\r\n}\r\nexport default RouteLogin;","import { Navigate } from \"react-router-dom\";\r\nimport { useUserContext } from \"../../Contexts/UserContext\";\r\n\r\n\r\nconst rolePages = {\r\n    \"admin\": \"/AdminMain\",\r\n    \"user\": \"/UserMain\"\r\n}\r\n\r\nconst Redirect = () => {\r\n    const {user} = useUserContext();\r\n\r\n    if(!user) {\r\n        return (<h1>Error</h1>);\r\n    }\r\n\r\n    return <Navigate replace to={rolePages[user.role] ?? \"/\"} />;\r\n}\r\n\r\nexport default Redirect;","import React from 'react'\r\n\r\nconst Comment = ({comment, post}) => {\r\n    return ( \r\n        <div className=\"flex gap-3 mb-4\">\r\n            <div className=\"flex items-center justify-center w-12 rounded-full bg-gradient-to-r from-skyD to-aqua\">\r\n                <div className=\"flex items-center justify-center w-5/6 bg-white rounded-full h-5/6\">\r\n                   <h3 className=\"font-bold\">{comment.user.username.split(\"_\")[0]}</h3>\r\n                </div>\r\n            </div>\r\n            <div className=\"w-full pl-2 bg-gray-300 rounded-md\">\r\n                <p className=\"font-bold\">{comment.user.username}</p>\r\n                <p>{comment.description}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default Comment;","import React,{useState, useEffect, useRef} from 'react';\r\nimport {AiFillHeart, AiFillStar} from 'react-icons/ai';\r\nimport {BsCalendarDate,BsPencilSquare} from 'react-icons/bs';\r\nimport {BiHide} from  'react-icons/bi'\r\nimport Swal from 'sweetalert2';\r\nimport Comment from '../Comment/Comment'\r\nimport axios from 'axios'\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst CardPost = ({post, favs}) => {\r\n    const navigate = useNavigate();\r\n    const [Like, setLike] = useState(null);\r\n    const [Hide, setHide] = useState(null);\r\n    const [Fav, setFav] = useState(null);\r\n    const [likeNumber, setLikeNumber] = useState(post.likes.length);\r\n    const [comments, setComments] = useState(post.comments)\r\n    const user = JSON.parse(localStorage.getItem('user')).username;\r\n    const description = useRef(null);\r\n     \r\n   \r\n    useEffect(() => {\r\n        post.likes.forEach(l=> {\r\n            if(l.username === user){\r\n                setLike(true);\r\n            }else{\r\n                setLike(false);\r\n            }\r\n        });\r\n\r\n        \r\n        favs.forEach((f)=>{\r\n            if(f === post._id){\r\n                setFav(true);\r\n            }\r\n        });\r\n    \r\n    }, []);\r\n    \r\n    \r\n    const onClickHandler = ()=>{\r\n        Swal.fire({\r\n            title: 'Likes',\r\n            imageUrl:\"https://getyourcompliments.com/icon.png\",\r\n            imageWidth:150,\r\n            imageHeight:150,\r\n            text: `Personas a las que le has gustado esta publicacion: ${post.likes.map(like => like.username).join(' || ')}`, \r\n        });\r\n    }\r\n\r\n    const onClickLike = async ()=>{\r\n        try {\r\n            const response = await fetch(\"https://posts-pw2021.herokuapp.com/api/v1/post/like/\"+ post._id, {\r\n                method: \"PATCH\",\r\n                headers: {\r\n                    \"Authorization\": \"Bearer \" + localStorage.getItem('token')\r\n                }\r\n            });\r\n                        \r\n            if(Like){\r\n                setLike(false);\r\n                setLikeNumber(likeNumber-1);\r\n\r\n            }else{\r\n                setLike(true);\r\n                setLikeNumber(likeNumber+1);\r\n            }      \r\n\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    \r\n    useEffect(() => {        \r\n        const btn = document.querySelector(`[data-id=\"${post._id}\"]`);\r\n        \r\n        if(Like) {\r\n            btn.classList.add(\"text-red-500\");            \r\n        } else{\r\n            btn.classList.remove(\"text-red-500\");\r\n        }\r\n\r\n    }, [Like])\r\n\r\n    const onclickHide = async ()=>{\r\n        try {\r\n            const response = await fetch(\"https://posts-pw2021.herokuapp.com/api/v1/post/toggle/\"+ post._id, {\r\n                    method: \"PATCH\",\r\n                    headers: {\r\n                        \"Authorization\": \"Bearer \" + localStorage.getItem('token')\r\n                    }    \r\n                });    \r\n\r\n                const btn = document.querySelector(`[data-hide=\"${post._id}\"]`);\r\n                if(Hide){\r\n                    setHide(false);\r\n                    btn.classList.remove(\"text-red-500\");            \r\n\r\n                    \r\n                    \r\n                    \r\n                }else{\r\n                    setHide(true);\r\n                    btn.classList.add(\"text-red-500\");            \r\n\r\n                }     \r\n            }        \r\n    catch (error) {\r\n        console.error(error)  \r\n    }    \r\n    }\r\n/*     useEffect(() => {\r\n        const btn = document.querySelector(`[data-hiden=\"${post._id}\"]`);\r\n        \r\n        if(Hide) {\r\n            btn.classList.add(\"text-yellow-700\");\r\n        } else{\r\n            btn.classList.remove(\"text-yellow-700\");\r\n        }\r\n        \r\n    }, [Hide]) */\r\n\r\n\r\n    \r\n\r\n\r\n    async function onSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        const descriptionValue = description.current.value\r\n\r\n        if(descriptionValue.length<8){\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'ERROR',\r\n                text: 'Comentario debe tener al menos 8 caracteres',\r\n            })\r\n\r\n            description.current.value=\"\";\r\n        } else{\r\n            try{\r\n                await axios.patch(`https://posts-pw2021.herokuapp.com/api/v1/post/comment/${post._id}`,\r\n                    {description: descriptionValue},\r\n                    {headers: {\r\n                        'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n                        'Content-Type': 'application/json'}}\r\n                );\r\n\r\n                const com = {\r\n                    description: descriptionValue,\r\n                    user:{\r\n                        username: user\r\n                    },\r\n                    _id: post._id\r\n                }\r\n                \r\n                setComments([...comments, com]);\r\n                description.current.value=\"\";\r\n            \r\n            } catch(error){\r\n                // const {response} = error;\r\n                console.log(error);        \r\n            }  \r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    //FAVORITES\r\n    const onClickFav = async () =>{\r\n        try {\r\n            const response = await fetch(\"https://posts-pw2021.herokuapp.com/api/v1/post/fav/\" + post._id , {\r\n                method: \"PATCH\",\r\n                headers: {\r\n                    \"Authorization\": \"Bearer \"+ localStorage.getItem('token')\r\n                }\r\n            });\r\n            \r\n            const info = await response.json();\r\n            \r\n            console.log(info);\r\n\r\n            if(Fav){\r\n                setFav(false);\r\n            }else{\r\n                setFav(true);\r\n            }            \r\n            \r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n        \r\n    }\r\n    \r\n    useEffect(() => {\r\n        const btn = document.querySelector(`[data-fid=\"${post._id}\"]`);\r\n        \r\n        if(Fav) {\r\n            btn.classList.add(\"text-yellow-700\");\r\n        } else{\r\n            btn.classList.remove(\"text-yellow-700\");\r\n        }\r\n        \r\n    }, [Fav])\r\n    \r\n\r\n    const onClickUpdate = (e) =>{\r\n        e.preventDefault();\r\n        navigate(\"/UpdatePost\");\r\n        localStorage.setItem('post', JSON.stringify(post._id));\r\n        localStorage.setItem('title', JSON.stringify(post.title));\r\n        localStorage.setItem('description', JSON.stringify(post.description));\r\n        localStorage.setItem('image', JSON.stringify(post.image));\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col mb-12 bg-white rounded shadow-lg lg:flex-row lg:h-98\">\r\n            \r\n            <div className=\"relative flex flex-col items-center justify-center bg-gray-300 rounded-l lg:w-2/4\">\r\n                <img loading=\"lazy\" src={post.image} className=\"w-full rounded-l lg:w-auto lg:h-full\" alt={post.title}/>\r\n                <div className=\"bottom-0 hidden w-full h-auto py-2 pl-3 font-bold text-white lg:absolute lg:flex lg:flex-col lg:justify-center bg-dark-700 bg-opacity-70 max-h-28\">\r\n                    <div className=\"overflow-y-auto\">\r\n                        <p>{post.user.username}</p>\r\n                        <p className=\"font-light\">{post.description}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col gap-4 m-5 lg:w-2/4 font-content\">\r\n                <div className=\"flex gap-2\">\r\n                    <h2 className=\"text-2xl font-bold font\">{post.title}</h2>\r\n                    <button data-fid={post._id} onClick={onClickFav} className=\"w-5 text-xl text-gray-500\"><AiFillStar className=\"hover:text-yellow-700\"/> </button>\r\n                    \r\n                    {\r\n                        JSON.parse(localStorage.getItem(\"user\")).username === post.user.username ? \r\n                            <button className=\"flex items-center justify-center h-12 gap-3 hover:text-aqua lg:w-1/7 lg:h-auto\" onClick={onClickUpdate} > <BsPencilSquare /></button>        \r\n                                    \r\n                        :\r\n                            <button className=\"hidden\"> <BsPencilSquare /></button>\r\n                    }\r\n                    \r\n                    {\r\n                        JSON.parse(localStorage.getItem(\"user\")).username === post.user.username ? \r\n                            <button data-hiden={post._id} className=\"flex items-center justify-center h-12 gap-3 hover:text-red-500 lg:w-1/7 lg:h-auto\" onClick={onclickHide}> <BiHide className=\"w-5 h-5\"/></button>        \r\n                                    \r\n                        :\r\n                            <button className=\"hidden\"> <BiHide /></button>\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3 text-dark-400\">\r\n                    <BsCalendarDate />\r\n                    <span>{new Date(post.createdAt).toLocaleDateString()} - </span>\r\n                    <span className=\"text-dark-400\">{new Date(post.createdAt).toLocaleTimeString()}</span>\r\n                </div>\r\n                \r\n                <div className=\"w-full h-auto overflow-y-auto lg:hidden max-h-16\">\r\n                    <p className=\"font-light\">\r\n                        <span className=\"font-bold\"> {post.user.username} - &nbsp; </span>\r\n                        {post.description}\r\n                    </p>\r\n                </div>\r\n                \r\n                <div className=\"flex gap-3 text-gray-500\">\r\n                    <button data-id={post._id} className=\"w-5 text-xl \" onClick={onClickLike}><AiFillHeart className=\" hover:text-red-500\"/> </button>\r\n                    {\r\n                        (<a id=\"btnBUM\" href=\"#\" className=\"text-lg text-blue-500 underline hover:text-blue-400\" onClick={onClickHandler}> {likeNumber} me gusta</a>)   \r\n                    } \r\n                </div>\r\n                \r\n                <form onSubmit={onSubmit}>\r\n                    <p>Añadir comentario:</p>\r\n                    <input \r\n                        className=\"w-full h-16 p-1 bg-gray-300 rounded-md resize-none focus:outline-none\" \r\n                        placeholder=\"Escribe tu comentario... \" type=\"text\" \r\n                        ref={description}\r\n                    />\r\n                </form >\r\n                \r\n                <p>Comentarios:</p>\r\n                <div id=\"comments\" className=\"overflow-y-auto max-h-60\">\r\n                    {comments.length > 0?\r\n                        comments.map(c=>{                  \r\n                            return(\r\n                                <Comment \r\n                                    comment={c}\r\n                                    key={c._id}\r\n                                />\r\n                            )\r\n                        })\r\n                    :\r\n                        <p className=\"text-red-500\">Esta publicación no tiene comentarios...</p>\r\n                    }\r\n                </div>\r\n            \r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default CardPost;","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport useravatar from '../../Assets/img/user_avatar.png';\r\nimport { useUserContext } from '../../Contexts/UserContext';\r\nimport { AiOutlineStar, AiFillCaretDown, AiFillContacts } from \"react-icons/ai\";\r\nimport { MdPublic } from \"react-icons/md\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {MdOutlineAddComment} from 'react-icons/md';\r\n\r\n\r\nconst Navbar = () => {\r\n    const navigate = useNavigate();    \r\n    const role = JSON.parse(localStorage.getItem(\"user\")).role;  \r\n\r\n    const hamburgerBtn =  ()=>{\r\n        const divnav = document.querySelector('#divnav');\r\n        const nav = document.querySelector('nav');\r\n        \r\n        if (nav.classList.contains('hidden')) {\r\n            nav.classList.add('flex', 'flex-col', 'gap-2', 'mb-3', 'w-full');\r\n            nav.classList.remove('hidden');\r\n            divnav.classList.remove('gap-6', 'h-14');\r\n            divnav.classList.add('flex-col', 'gap-4', 'pt-2')\r\n        } else{\r\n            nav.classList.remove('flex', 'flex-col', 'gap-2', 'mb-3', 'w-full');\r\n            nav.classList.add('hidden');\r\n            divnav.classList.add('gap-6', 'h-14');\r\n            divnav.classList.remove('flex-col', 'gap-4', 'pt-2')\r\n        }\r\n    }\r\n\r\n    const dropdown = {\r\n        enter: () => {\r\n            const dropContent = document.querySelector(\"#drop\");\r\n            dropContent.classList.add('flex', 'flex-col');\r\n            dropContent.classList.remove('hidden');\r\n        },\r\n        leave: () =>{\r\n            const dropContent = document.querySelector(\"#drop\");\r\n            dropContent.classList.add('hidden');\r\n            dropContent.classList.remove('flex', 'flex-col');\r\n        }\r\n    }\r\n\r\n    const auth = useUserContext();\r\n    const onClickHandler = (e) =>{\r\n        e.preventDefault();\r\n\r\n        auth.logout();\r\n        navigate(\"/login\");\r\n    }\r\n\r\n    const addPost = (e) =>{\r\n        e.preventDefault();\r\n        navigate(\"/CreatePost\");\r\n    }\r\n\r\n    const onClickFav = (e) =>{\r\n        e.preventDefault();\r\n        navigate(\"/MyFavorites\");\r\n    }\r\n\r\n    const onClickPosts = (e) =>{\r\n        e.preventDefault();\r\n        navigate(\"/CardContainer\");\r\n    }\r\n\r\n    const onClickMyPosts = (e) =>{\r\n        e.preventDefault();\r\n        navigate(\"/MyPosts\");\r\n    }\r\n\r\n        \r\n    return ( \r\n        <div className=\"relative pt-1 bg-gradient-to-r from-aqua to-skyD\">\r\n            <div id=\"divnav\" className=\"static flex items-center justify-around text-white shadow-lg bg-dark-700 h-14\">\r\n                <h1 className=\"text-4xl font-heading lg:w-1/4 lg:text-center\">Web social</h1>\r\n                \r\n                <div className=\"lg:hidden\">\r\n                    <button onClick={hamburgerBtn} className=\"flex items-center px-3 py-2 border rounded hover:text-white hover:border-white\">\r\n                        <svg className=\"w-3 h-3 fill-current\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><title>Menu</title><path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\"/></svg>\r\n                    </button>\r\n                </div>\r\n\r\n                <nav className=\"hidden h-full text-gray-500 lg:w-2/3 lg:flex lg:justify-end font-content\">\r\n                    {\r\n                        role === \"user\"? \r\n                            <button onClick={addPost} className=\"hidden h-12 gap-3 hover:bg-dark-400 hover:text-white lg:w-1/4 lg:h-auto\"> <MdOutlineAddComment /> Crear un post</button>\r\n                        :\r\n                            <button onClick={addPost} className=\"flex items-center justify-center h-12 gap-3 hover:bg-dark-400 hover:text-white lg:w-1/4 lg:h-auto\"> <MdOutlineAddComment /> Crear un post</button>\r\n\r\n                    }\r\n                    \r\n                    <button className=\"flex items-center justify-center h-12 gap-3 hover:bg-dark-400 hover:text-white lg:w-1/4 lg:h-auto\" onClick={onClickPosts}> <MdPublic /> Publicaciones</button>\r\n                    \r\n                    {\r\n                        role === \"admin\"? \r\n                            <button className=\"flex items-center justify-center h-12 gap-3 hover:bg-dark-400 hover:text-white lg:w-1/4 lg:h-auto\" onClick={onClickMyPosts}> <AiFillContacts /> Mis Posts</button>                \r\n                        :\r\n                            <button className=\"hidden\"> <AiFillContacts /> Mis Posts</button>\r\n                    }\r\n                    \r\n                    \r\n                    <button className=\"flex items-center justify-center h-12 gap-3 hover:bg-dark-400 hover:text-white lg:w-1/4 lg:h-auto\" onClick={onClickFav}> <AiOutlineStar /> Favoritos</button>\r\n                    <button className=\"flex items-center justify-center h-12 gap-3 hover:bg-dark-400 hover:text-white lg:w-1/4 lg:h-auto\" onMouseEnter={dropdown.enter} onMouseLeave={dropdown.leave}> <img src={useravatar} className=\"w-8 h-8 rounded-full\" alt=\"avatar-user\"/> Usuario <AiFillCaretDown /></button>\r\n                </nav>\r\n\r\n                <div id=\"drop\" className=\"absolute z-10 items-center hidden w-64 py-2 bg-white rounded-lg shadow-xl top-80 lg:top-14 lg:right-2 font-content\" onMouseEnter={dropdown.enter} onMouseLeave={dropdown.leave}>\r\n                    <div className=\"flex justify-between gap-5 mx-6\">\r\n                        <img src={useravatar} className=\"w-1/4 rounded-full\" alt=\"user-img\"/>\r\n                        <div className=\"w-3/4\">\r\n                                \r\n                            <h2 className=\"font-bold text-dark-700\">{JSON.parse(localStorage.getItem(\"user\")).username}</h2>\r\n                            <h2 className=\"text-dark-700\">{JSON.parse(localStorage.getItem(\"user\")).role}</h2>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <button className=\"w-11/12 px-4 py-2 mt-4 text-gray-500 bg-red-500 rounded hover:bg-red-300 hover:text-white\" onClick={onClickHandler}>Logout</button>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default Navbar;","import React, {useState, useEffect} from 'react';\r\nimport CardPost from '../../Components/CardPost/CardPost';\r\nimport Navbar from '../../Components/Navbar/Navbar';\r\nimport Swal from 'sweetalert2';\r\nimport {AiOutlineArrowLeft, AiOutlineArrowRight} from 'react-icons/ai';\r\nimport { Navigate } from 'react-router';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\nconst CardContainer = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const [post, setPost] = useState([]);\r\n  const [favs, setFavs] = useState([]);\r\n  const [postMore , setPostMore] = useState(0);\r\n  const [PageLimit, setPageLimit] = useState(1);\r\n  const navigate = useNavigate();\r\n\r\n  \r\n  \r\n\r\n  \r\n  \r\n  useEffect(() => {\r\n    const fetchPosts = async () =>{\r\n      try {\r\n        const response = await fetch(`https://posts-pw2021.herokuapp.com/api/v1/post/all?limit=20&page=${postMore}`, {\r\n          \"method\": \"GET\",\r\n          \"headers\":{\r\n            \"Authorization\": `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        if(response.ok){\r\n          const data = await response.json();\r\n          setPageLimit(data.pages);\r\n          setPost(data.data);\r\n        }\r\n  \r\n        \r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n    \r\n        \r\n    const fetchFavorites = async () =>{\r\n      try {\r\n          const responseFav = await fetch(\"https://posts-pw2021.herokuapp.com/api/v1/post/fav\", {\r\n              method: \"GET\",\r\n              headers: {\r\n                  \"Authorization\": \"Bearer \" + localStorage.getItem('token') \r\n              }\r\n          });\r\n          \r\n          if(responseFav.ok){\r\n              const dataFav = await responseFav.json();\r\n              setFavs(dataFav.favorites);\r\n          }\r\n          \r\n      } catch (error) {\r\n          console.error(error);\r\n      }\r\n    }\r\n  \r\n  \r\n    fetchPosts();\r\n    fetchFavorites();\r\n    \r\n    \r\n  }, [postMore]);\r\n  \r\n  \r\n  if(postMore == PageLimit ){\r\n    Swal.fire({\r\n      title: 'Has llegado al final de los post',\r\n      icon: 'warning',\r\n      confirmButtonColor: '#3085d6',\r\n      confirmButtonText: 'Volver'\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        setPostMore(postMore - 1)\r\n      }\r\n    })\r\n  } \r\n  console.log(postMore, PageLimit);\r\n\r\n    \r\n  if(postMore < 0){\r\n    Swal.fire({\r\n      title: 'Parece que no hay posts por mostrar',\r\n      icon: 'warning',\r\n      confirmButtonColor: '#3085d6',\r\n      confirmButtonText: 'Volver'\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        setPostMore(postMore + 1)\r\n      }\r\n    })\r\n  }\r\n    \r\n  \r\n//Falta estilo de los botones para + y - posts\r\n  return (\r\n    <div className=\"min-h-screen bg-dark-400\">\r\n      \r\n      <Navbar />\r\n      \r\n      <div className=\"flex justify-center\">\r\n        <div className=\"w-11/12 mt-11\">\r\n          <div className=\"flex flex-col gap-3 mb-5 lg:gap-0 lg:flex-row lg:justify-between\">\r\n             <button onClick={()=>{setPostMore(postMore - 1)}} className=\"flex items-center justify-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"><AiOutlineArrowLeft className=\"inline \"/> <div>Página anterior</div> </button> \r\n             <button onClick={()=>{setPostMore(postMore + 1)}} className=\"flex items-center justify-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"> <div>Página siguiente</div> <AiOutlineArrowRight className=\"inline \"/> </button>  \r\n          </div>\r\n\r\n          {\r\n            post.length > 0?\r\n              post.map((p)=>{\r\n                return(\r\n                  <CardPost\r\n                    post={p}\r\n                    key={p._id}\r\n                    favs={favs}\r\n                    \r\n                  />\r\n                )\r\n              })\r\n              :\r\n              null\r\n          }\r\n        \r\n          <div className=\"flex flex-col gap-3 mb-10 lg:gap-0 lg:flex-row lg:justify-between\">\r\n             <button onClick={()=>{setPostMore(postMore - 1)}} className=\"flex items-center justify-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"><AiOutlineArrowLeft className=\"inline \"/> <div>Página anterior</div> </button> \r\n             <button onClick={()=>{setPostMore(postMore + 1)}} className=\"flex items-center justify-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"> <div>Página siguiente</div> <AiOutlineArrowRight className=\"inline \"/> </button>  \r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"relative pt-1 bg-gradient-to-r from-aqua to-skyD\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CardContainer;","import React, {useState, useEffect} from 'react'\r\nimport Navbar from '../../Components/Navbar/Navbar';\r\nimport CardPost from '../../Components/CardPost/CardPost';\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\nconst MyFavorites = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const [post, setPost] = useState([]);\r\n    const [fav, setFav] = useState([])\r\n    const [postMore , setPostMore] = useState(0);\r\n\r\n\r\n    // if(postMore < 0){\r\n    //     Swal.fire({\r\n    //       title: 'Parece que no hay posts por mostrar',\r\n    //       icon: 'warning',\r\n    //       confirmButtonColor: '#3085d6',\r\n    //       confirmButtonText: 'Volver'\r\n    //     }).then((result) => {\r\n    //       if (result.isConfirmed) {\r\n    //         setPostMore(postMore + 1)\r\n    //       }\r\n    //     })\r\n    // }\r\n\r\n    useEffect(() => {\r\n        const fetchFavorites = async () =>{\r\n            try {\r\n                const responseFav = await fetch(\"https://posts-pw2021.herokuapp.com/api/v1/post/fav\", {\r\n                    method: \"GET\",\r\n                    headers: {\r\n                        \"Authorization\": \"Bearer \" + localStorage.getItem('token') \r\n                    }\r\n                });\r\n                \r\n                if(responseFav.ok){\r\n                    const dataFav = await responseFav.json();\r\n                    setFav(dataFav.favorites)\r\n                }\r\n\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n        \r\n\r\n        fetchFavorites();\r\n\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchPosts = async (id)=>{\r\n            try {\r\n                const response = await fetch(`https://posts-pw2021.herokuapp.com/api/v1/post/one/${id}`, {\r\n                    method: \"GET\",\r\n                    headers: {\r\n                        \"Authorization\": `Bearer ${token}`\r\n                    }\r\n                });\r\n                \r\n                if (response.ok) {\r\n                    const onePost = await response.json();\r\n                    return onePost;\r\n                }\r\n                \r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n   \r\n        }\r\n\r\n        const result = fav.map(f =>{\r\n            return fetchPosts(f);\r\n        });\r\n\r\n        const getFavPosts = async () =>{  \r\n            const favPosts = await Promise.all(result);\r\n            setPost(favPosts);\r\n        }\r\n\r\n        getFavPosts();\r\n    }, [fav])\r\n\r\n\r\n    return ( \r\n        <div className=\"min-h-screen bg-dark-400\">\r\n      \r\n            <Navbar />\r\n            \r\n            <div className=\"flex justify-center\">\r\n                <div className=\"w-11/12 mt-11\">\r\n                    {/* <div className=\"flex flex-col gap-3 lg:gap-0 lg:flex-row lg:justify-between mb-5\">\r\n                        <button onClick={()=>{setPostMore(postMore - 1)}} className=\"flex justify-center items-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"><AiOutlineArrowLeft className=\"inline \"/> <div>Página anterior</div> </button> \r\n                        <button onClick={()=>{setPostMore(postMore + 1)}} className=\"flex justify-center items-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"> <div>Página siguiente</div> <AiOutlineArrowRight className=\"inline \"/> </button>  \r\n                    </div> */}\r\n        \r\n                    {\r\n                        post.map((p)=>{\r\n                            let arrayFavs = [];\r\n                            arrayFavs.push(p._id);\r\n                            \r\n                            if(p){\r\n                                return(\r\n                                    <CardPost\r\n                                        post={p}\r\n                                        key={p._id}\r\n                                        favs={arrayFavs}\r\n                                    />\r\n                                )\r\n                            } else{\r\n                                return(\r\n                                    <h1>No hay posts</h1>\r\n                                )\r\n                            }\r\n                        })    \r\n                    }\r\n                \r\n                    {/* <div className=\"flex flex-col gap-3 lg:gap-0 lg:flex-row lg:justify-between mb-10\">\r\n                        <button onClick={()=>{setPostMore(postMore - 1)}} className=\"flex justify-center items-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"><AiOutlineArrowLeft className=\"inline \"/> <div>Página anterior</div> </button> \r\n                        <button onClick={()=>{setPostMore(postMore + 1)}} className=\"flex justify-center items-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"> <div>Página siguiente</div> <AiOutlineArrowRight className=\"inline \"/> </button>  \r\n                    </div> */}\r\n        \r\n                </div>\r\n            </div>\r\n    \r\n            <div className=\"relative pt-1 bg-gradient-to-r from-aqua to-skyD\"></div>\r\n        </div>\r\n\r\n    );\r\n}\r\n \r\nexport default MyFavorites;","import React, {useState, useEffect} from 'react';\r\nimport CardPost from '../../Components/CardPost/CardPost';\r\nimport Navbar from '../../Components/Navbar/Navbar';\r\nimport {AiOutlineArrowLeft} from 'react-icons/ai';\r\nimport {AiOutlineArrowRight} from 'react-icons/ai';\r\nimport {BsPencilSquare} from 'react-icons/bs';\r\n\r\nimport Swal from 'sweetalert2';\r\n\r\nconst MyPosts = () => {\r\n   \r\n    const token = localStorage.getItem(\"token\");\r\n    const [post, setPost] = useState([]);\r\n    const [favs, setFavs] = useState([]);\r\n    const [postMore , setPostMore] = useState(0);\r\n    const [PageLimit, setPageLimit] = useState(1);\r\n\r\n    \r\n    useEffect(() => {\r\n        const fetchPosts = async () =>{\r\n          try {\r\n            const response = await fetch(`https://posts-pw2021.herokuapp.com/api/v1/post/owned?limit=15&page=${postMore}`, {\r\n              \"method\": \"GET\",\r\n              \"headers\":{\r\n                \"Authorization\": `Bearer ${token}`\r\n              }\r\n            });\r\n            \r\n            \r\n            if(response.ok){\r\n              const data = await response.json();\r\n              setPost(data.data);\r\n              setPageLimit(data.pages);\r\n            }\r\n      \r\n            \r\n          } catch (error) {\r\n            console.error(error);\r\n          }\r\n        };\r\n        \r\n            \r\n        const fetchFavorites = async () =>{\r\n          try {\r\n              const responseFav = await fetch(\"https://posts-pw2021.herokuapp.com/api/v1/post/fav\", {\r\n                  method: \"GET\",\r\n                  headers: {\r\n                      \"Authorization\": \"Bearer \" + localStorage.getItem('token') \r\n                  }\r\n              });\r\n              \r\n              if(responseFav.ok){\r\n                  const dataFav = await responseFav.json();\r\n                  setFavs(dataFav.favorites);\r\n              }\r\n              \r\n          } catch (error) {\r\n              console.error(error);\r\n          }\r\n        }\r\n      \r\n      \r\n        fetchPosts();\r\n        fetchFavorites();\r\n    \r\n      }, [postMore]);\r\n\r\n      if(postMore == PageLimit ){\r\n        Swal.fire({\r\n          title: 'Has llegado al final de los post',\r\n          icon: 'warning',\r\n          confirmButtonColor: '#3085d6',\r\n          confirmButtonText: 'Volver'\r\n        }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            setPostMore(postMore - 1)\r\n          }\r\n        })\r\n      } \r\n      console.log(postMore, PageLimit);\r\n\r\n      if(postMore < 0){\r\n        Swal.fire({\r\n          title: 'Parece que no hay posts por mostrar',\r\n          icon: 'warning',\r\n          confirmButtonColor: '#3085d6',\r\n          confirmButtonText: 'Volver'\r\n        }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            setPostMore(postMore + 1)\r\n          }\r\n        })\r\n      }\r\n\r\n\r\n    return ( \r\n    \r\n    <div className=\"min-h-screen bg-dark-400\">\r\n      <Navbar />\r\n\r\n      <div className=\"flex justify-center\">\r\n        <div className=\"w-11/12 mt-11\">\r\n          <div className=\"flex flex-col gap-3 mb-5 lg:gap-0 lg:flex-row lg:justify-between\">\r\n             <button onClick={()=>{setPostMore(postMore - 1)}} className=\"flex items-center justify-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"><AiOutlineArrowLeft className=\"inline \"/> <div>Página anterior</div> </button> \r\n             <button onClick={()=>{setPostMore(postMore + 1)}} className=\"flex items-center justify-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"> <div>Página siguiente</div> <AiOutlineArrowRight className=\"inline \"/> </button>  \r\n          </div>\r\n\r\n          {\r\n            post.length > 0?\r\n              post.map((p)=>{\r\n                return(\r\n                  <CardPost\r\n                    post={p}\r\n                    key={p._id}\r\n                    favs={favs}\r\n                  />\r\n                )\r\n              })\r\n              :\r\n              null\r\n          }\r\n        \r\n          <div className=\"flex flex-col gap-3 mb-10 lg:gap-0 lg:flex-row lg:justify-between\">\r\n             <button onClick={()=>{setPostMore(postMore - 1)}} className=\"flex items-center justify-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"><AiOutlineArrowLeft className=\"inline \"/> <div>Página anterior</div> </button> \r\n             <button onClick={()=>{setPostMore(postMore + 1)}} className=\"flex items-center justify-center px-4 py-1 mx-3 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"> <div>Página siguiente</div> <AiOutlineArrowRight className=\"inline \"/> </button>  \r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"relative pt-1 bg-gradient-to-r from-aqua to-skyD\"></div>\r\n    </div>\r\n        );\r\n}\r\n \r\nexport default MyPosts;","import { useNavigate } from \"react-router-dom\";\r\nimport React,{ useRef } from \"react\";\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport {HiOutlinePencilAlt} from 'react-icons/hi'\r\nimport {BiRename} from 'react-icons/bi';\r\nimport {BsFillImageFill} from 'react-icons/bs';\r\nimport {AiOutlineArrowLeft} from 'react-icons/ai'\r\n\r\n\r\nconst BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1\";\r\n\r\n\r\nconst UpdatePost = () => {\r\n  const navigate = useNavigate();\r\n  const postId = JSON.parse(window.localStorage.getItem('post'));\r\n    \r\n    \r\n    const title = useRef(null);\r\n    const description = useRef(null);\r\n    const image = useRef(null);\r\n    \r\n    \r\n    \r\n    async function onSubmit(e)\r\n    {\r\n      e.preventDefault();\r\n      const titleValue = title.current.value;\r\n      const descriptionValue = description.current.value;\r\n      const imageValue = image.current.value;\r\n      \r\n      const OriginalTitle = JSON.parse(window.localStorage.getItem('title'));\r\n      const OriginalDesc = JSON.parse(window.localStorage.getItem('description'));\r\n      const OriginalImage = JSON.parse(window.localStorage.getItem('image'));\r\n      \r\n       \r\n        if(titleValue === '')\r\n        {\r\n          title.current.value = OriginalTitle;\r\n        }\r\n        if(descriptionValue === '')\r\n        {\r\n          description.current.value = OriginalDesc;\r\n        }\r\n        \r\n        if(imageValue ==='')\r\n        {\r\n          image.current.value = OriginalImage;\r\n        }\r\n      \r\n       \r\n       \r\n       \r\n       \r\n      //validacion para la descripcion del post sea mayor a 8 caracteres\r\n       \r\n      \r\n       try{\r\n         const response = await axios.put(`${BASE_URL}/post/update/${postId}`, {title: titleValue, description: descriptionValue, image: imageValue},\r\n         {headers: {'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n         'Content-Type': 'application/json'}}\r\n         \r\n         );  \r\n         \r\n        \r\n  \r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'Actualizado',\r\n          text: 'Post Actualizado con exito',\r\n        })\r\n       \r\n        if (response.status === 200) {\r\n          localStorage.getItem('token', response.data.token);\r\n          navigate('/MyPosts');\r\n      }\r\n      }\r\n      catch(error){\r\n        const{response} = error;\r\n        if (response.status === 401) {\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'ERROR',\r\n            text: 'Debes ser admin para crear un post',\r\n          })\r\n        }\r\n        else if (response.status === 404) {\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'ERROR',\r\n            text: 'No se pudo crear el post',\r\n          })\r\n        }\r\n      }\r\n    }\r\n  \r\n     \r\n  \r\n      const onClickHandler = (e) =>{\r\n        e.preventDefault();\r\n        navigate(\"/CardContainer\");\r\n    }\r\n        \r\n      return (\r\n        <div className=\"bg-dark-400\">\r\n          <div className=\"relative pt-1 bg-gradient-to-r from-aqua to-skyD\"></div>\r\n  \r\n          <button  onClick= {onClickHandler}  className=\"px-4 py-2 mx-3 mt-6 text-white transform bg-dark-700 x-2 hover:scale-105 hover:text-dark-700 hover:bg-white motion-reduce:transform-none rounded-2xl \"><AiOutlineArrowLeft className=\"inline \"/> ver los posts </button>\r\n          \r\n        <div className=\"flex flex-col items-center min-h-screen pt-20 bg-dark-400\">\r\n          \r\n              <main>\r\n  \r\n                <div className=\"w-full max-w-3xl p-2 rounded-md shadow-md border-1 md:p-2 bg-gradient-to-r from-aqua to-skyD text-bold hover:text-black\">\r\n                  \r\n                  <form  onSubmit={onSubmit} className=\"flex flex-col items-center justify-center gap-4 p-10 bg-skyL\">\r\n                      <h2 className=\"mb-4 text-4xl font-black text-gray-800 font-heading\">Actualiza un POST</h2>\r\n                      \r\n                      <div class=\"flex\">\r\n                      <span class=\"text-lg  rounded-l px-4 py-2 bg-gray\"><BiRename /></span>\r\n                      <input autocomplete=\"false\"  className=\"w-full px-4 py-2 rounded-r focus:outline-none focus:ring-2 focus:ring-aqua focus:border-transparent\"  type=\"text\" placeholder=\"Título\"\r\n                      ref={title}/>\r\n                     \r\n                      </div>\r\n                                          \r\n                      <div class=\"flex\">\r\n                      <span class=\"text-lg   rounded-l px-4 py-2 bg-gray\"><HiOutlinePencilAlt /></span>\r\n                      <input autocomplete=\"false\" className=\"w-full px-4 py-2 rounded-r focus:outline-none focus:ring-2 focus:ring-aqua focus:border-transparent\" type=\"text\" placeholder=\"Descripción\"\r\n                      ref={description}/>\r\n                                        \r\n                      </div>\r\n  \r\n                      <div class=\"flex\">\r\n                      <span class=\"text-lg  rounded-l px-4 py-2 bg-gray\"><BsFillImageFill /></span>\r\n                      <input autocomplete=\"false\" className=\"w-full px-4 py-2 rounded-r focus:outline-none focus:ring-2 focus:ring-aqua focus:border-transparent\" type=\"text\" placeholder=\"Url de la imagen\"\r\n                      ref={image}/>\r\n                      </div>\r\n                      \r\n                      <button className=\"w-full px-4 py-2 mt-6 text-xl text-white uppercase transition duration-300 ease-in-out border rounded bg-gradient-to-r from-aqua to-skyD text-bold hover:text-black\">\r\n                          Actualizar \r\n                      </button>\r\n                  </form>\r\n                </div>\r\n              </main>\r\n  \r\n      </div>\r\n        </div>  \r\n  );\r\n  }\r\n  \r\n  \r\n  \r\n  export default UpdatePost;","import React from 'react'\r\n\r\nconst ErrorPage = () => {\r\n    return ( <h1>Error</h1> );\r\n}\r\n \r\nexport default ErrorPage;","import React from 'react';\r\nimport Login from './Pages/Login/Login';\r\nimport {BrowserRouter, Routes, Route, Navigate} from 'react-router-dom';\r\nimport CreatePost from './Pages/CreatePost/CreatePost';\r\nimport RouteLogin  from './Components/RouteLogin/RouteLogin';\r\nimport Redirect from './Pages/Redirect/Redirect';\r\nimport CardContainer from './Components/CardContainer/CardContainer';\r\nimport MyFavorites from './Pages/MyFavorites/MyFavorites';\r\nimport MyPosts from './Pages/MyPosts/MyPosts'\r\nimport UpdatePost from './Pages/UpdatePost/UpdatePost';\r\nimport ErrorPage from './Pages/ErrorPage/ErrorPage';\r\n\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Navigate replace to={\"/login\"} />} />\r\n        <Route path=\"/login\" element={<Login />} />\r\n        <Route path=\"/Redirect\" element={<Redirect />} />\r\n        <Route path=\"/CardContainer\" element={<CardContainer />} />\r\n        <Route path=\"/CreatePost\" element={<CreatePost />} />\r\n        <Route path='/MyFavorites' element={<MyFavorites />}/>\r\n        <Route path='/MyPosts' element={<MyPosts />}/>\r\n        <Route path='/UpdatePost' element={<UpdatePost />}/>\r\n        <Route path='/ErrorPage' element={<ErrorPage />}/>\r\n\r\n\r\n\r\n      <Route\r\n          path=\"/AdminMain\"\r\n          element={\r\n            <RouteLogin role=\"admin\">\r\n              <CardContainer />\r\n            </RouteLogin>\r\n          } />\r\n\r\n        <Route\r\n          path=\"/UserMain\"\r\n          element={\r\n            <RouteLogin role=\"user\">\r\n              <CardContainer />\r\n            </RouteLogin>\r\n          } />\r\n\r\n\r\n          <Route\r\n         path=\"/*\"\r\n          element={\r\n          <ErrorPage/>} />\r\n      </Routes>\r\n      </BrowserRouter>\r\n    \r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { UserProvider } from './Contexts/UserContext'\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <UserProvider>\r\n      <App />\r\n    </UserProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}